(this["webpackJsonpbook-list"]=this["webpackJsonpbook-list"]||[]).push([[0],{26:function(e,t,c){},28:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(19),i=c.n(n),l=c(8),o=(c(26),c(10)),r=c.n(o),j=c(12),d=c(3),b=c(2),h=(c(28),c(0)),u=function(e){var t=e.books,c=e.onDelete,s=e.onEdit;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"pad10 deep-purple lighten-2",children:Object(h.jsx)("h4",{className:"center-align",children:"Books List"})}),Object(h.jsxs)("table",{className:"centered",children:[Object(h.jsx)("thead",{className:"deep-purple lighten-3",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Book title"}),Object(h.jsx)("th",{children:"Author name"}),Object(h.jsx)("th",{children:"Category"}),Object(h.jsx)("th",{children:"ISBN"}),Object(h.jsx)("th",{className:"hide-on-small-only",children:"Actions"})]})}),t.map((function(e){return Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{className:"deep-purple lighten-5",children:[Object(h.jsx)("td",{children:e.title}),Object(h.jsx)("td",{children:e.author}),Object(h.jsx)("td",{children:e.category}),Object(h.jsx)("td",{children:e.ISBN}),Object(h.jsxs)("td",{className:"hide-on-small-only",children:[Object(h.jsx)("a",{className:"btn red mar5",onClick:function(){c(e.id)},children:Object(h.jsx)("i",{className:"material-icons",children:"delete"})}),Object(h.jsx)(l.b,{to:"/edit",className:"deep-purple lighten-2 btn mar5",onClick:function(){s(e.id)},children:Object(h.jsx)("i",{className:"material-icons",children:"edit"})})]})]}),Object(h.jsxs)("tr",{className:"hide-on-med-and-up",children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{className:"btn-floating red",onClick:function(){c(e.id)},children:Object(h.jsx)("i",{className:"material-icons",children:"delete"})})}),Object(h.jsx)("td",{children:Object(h.jsx)(l.b,{to:"/edit",className:"btn-floating deep-purple lighten-2",children:Object(h.jsx)("i",{className:"material-icons",children:"edit"})})})]})]},e.id)}))]}),Object(h.jsx)("div",{className:"pad10 deep-purple lighten-5 center-align",children:Object(h.jsx)(l.b,{to:"/add",className:"btn deep-purple lighten-2",children:"Add new Book"})})]})},O=c(13),p=c.n(O),m=function(e){var t=e.onAdd,c=Object(s.useState)(""),a=Object(d.a)(c,2),n=a[0],i=a[1],o=Object(s.useState)(""),r=Object(d.a)(o,2),j=r[0],b=r[1],u=Object(s.useState)(""),O=Object(d.a)(u,2),m=O[0],x=O[1],f=Object(s.useState)(""),v=Object(d.a)(f,2),N=v[0],g=v[1],y=Object(s.useState)(!1),k=Object(d.a)(y,2),S=k[0],w=k[1],B=Object(s.useState)(!1),C=Object(d.a)(B,2),E=C[0],I=C[1],A=Object(s.useState)(!1),T=Object(d.a)(A,2),F=T[0],D=T[1],J=Object(s.useState)(!1),_=Object(d.a)(J,2),L=_[0],P=_[1],U=function(e){var t=e.target,c=t.value;switch(t.name){case"title":i(c);break;case"author":b(c);break;case"category":g(c);break;case"ISBN":(Number(c)||""===c)&&x(c),console.log(typeof c)}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"pad10 deep-purple lighten-2",children:Object(h.jsx)("h4",{className:"center-align",children:"Add Book"})}),Object(h.jsxs)("div",{className:"row center-align pad30 deep-purple lighten-5",children:[Object(h.jsxs)("form",{className:"col s12",onSubmit:function(e){e.preventDefault(),n&&j&&m&&N&&(t({title:n,author:j,category:N,ISBN:+m,id:+new Date}),i(""),b(""),x(""),g(""),w(!1),I(!1),D(!1),P(!1)),!n&&w(!0),!j&&I(!0),!m&&D(!0),!N&&P(!0)},children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"input-field col s8 offset-s2",children:[Object(h.jsx)("input",{className:p()({invalid:S,valid:!S}),name:"title",id:"book_title",type:"text",value:n,onChange:function(e){U(e),w(!1)}}),Object(h.jsx)("label",{htmlFor:"book_title",children:"Book title"})]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"input-field col s8 offset-s2",children:[Object(h.jsx)("input",{className:p()({invalid:E,valid:!E}),name:"author",id:"author_name",type:"text",value:j,onChange:function(e){U(e),I(!1)}}),Object(h.jsx)("label",{htmlFor:"author_name",children:"Author name"})]})}),Object(h.jsxs)("div",{className:"input-field col s6 offset-s3",children:[L&&Object(h.jsx)("span",{className:"red-text",children:"Select any category"}),Object(h.jsxs)("select",{className:"browser-default",name:"category",value:N,onChange:function(e){U(e),P(!1)},children:[Object(h.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Choose category"}),Object(h.jsx)("option",{value:"novel",children:"novel"}),Object(h.jsx)("option",{value:"myth",children:"myth"}),Object(h.jsx)("option",{value:"horror",children:"horror"}),Object(h.jsx)("option",{value:"poem",children:"poem"}),Object(h.jsx)("option",{value:"autobiography",children:"autobiography"}),Object(h.jsx)("option",{value:"detective",children:"detective"}),Object(h.jsx)("option",{value:"short story",children:"short story"})]})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"input-field col s6 offset-s3",children:[Object(h.jsx)("input",{className:p()({invalid:F,valid:!F}),name:"ISBN",id:"ISBN",type:"text",value:m,onChange:function(e){U(e),D(!1)}}),Object(h.jsx)("label",{htmlFor:"ISBN",children:"ISBN"})]})}),Object(h.jsx)("input",{type:"submit",value:"Add book",className:"text-white btn deep-purple lighten-2"})]}),Object(h.jsx)(l.b,{to:"/",className:"btn-floating marT10",children:Object(h.jsx)("i",{className:"material-icons",children:"home"})})]})]})},x=a.a.memo((function(e){var t=e.bookToEdit,c=e.getEditedBook,a=Object(b.g)(),n=Object(s.useState)(""),i=Object(d.a)(n,2),l=i[0],o=i[1],r=Object(s.useState)(""),j=Object(d.a)(r,2),u=j[0],O=j[1],p=Object(s.useState)(""),m=Object(d.a)(p,2),x=m[0],f=m[1],v=Object(s.useState)(""),N=Object(d.a)(v,2),g=N[0],y=N[1],k=Object(s.useState)(0),S=Object(d.a)(k,2),w=S[0],B=S[1],C=Object(s.useState)(!1),E=Object(d.a)(C,2),I=E[0],A=E[1];Object(s.useEffect)((function(){t&&(o(t.title),O(t.author),f(String(t.ISBN)),y(t.category),B(t.id))}),[t]);var T=function(e){var t=e.target,c=t.value;switch(t.name){case"title":o(c);break;case"author":O(c);break;case"category":y(c);break;case"ISBN":(Number(c)||""===c)&&f(c),console.log(typeof c)}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"pad10 deep-purple lighten-2",children:Object(h.jsx)("h4",{className:"center-align",children:"Edit Book"})}),Object(h.jsx)("div",{className:"row center-align pad30 deep-purple lighten-5",children:Object(h.jsxs)("form",{className:"col s12",onSubmit:function(e){e.preventDefault(),c({title:l,author:u,category:g,ISBN:+x,id:w}),A(!0),setTimeout((function(){A(!1),a.push("/")}),3e3)},children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"input-field col s8 offset-s2",children:["Book Title",Object(h.jsx)("input",{className:"valid",name:"title",type:"text",value:l,onChange:function(e){T(e)}})]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"input-field col s8 offset-s2",children:["Author name",Object(h.jsx)("input",{className:"valid",name:"author",type:"text",value:u,onChange:function(e){T(e)}})]})}),Object(h.jsxs)("div",{className:"input-field col s6 offset-s3",children:["Category",Object(h.jsxs)("select",{className:"browser-default",name:"category",onChange:T,value:g,children:[Object(h.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Choose category"}),Object(h.jsx)("option",{value:"novel",children:"novel"}),Object(h.jsx)("option",{value:"myth",children:"myth"}),Object(h.jsx)("option",{value:"horror",children:"horror"}),Object(h.jsx)("option",{value:"poem",children:"poem"}),Object(h.jsx)("option",{value:"autobiography",children:"autobiography"}),Object(h.jsx)("option",{value:"detective",children:"detective"}),Object(h.jsx)("option",{value:"short story",children:"short story"})]})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"input-field col s6 offset-s3",children:["International Standard Book Number",Object(h.jsx)("input",{className:"valid",name:"ISBN",type:"text",value:x,onChange:function(e){T(e)}})]})}),I&&Object(h.jsx)("div",{className:"row deep-purple lighten-3",children:Object(h.jsx)("div",{className:"input-field col s6 offset-s3",children:"the book has been successfully edited"})}),Object(h.jsx)("input",{type:"submit",value:"Edit",className:"text-white btn deep-purple lighten-2"})]})})]})})),f=c(21),v=function(){var e=Object(j.a)(r.a.mark((function e(t,c){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3004").concat(t),c);case 2:if((s=e.sent).ok){e.next=5;break}throw"".concat(s.status," - ").concat(s.statusText);case 5:return e.abrupt("return",s.json());case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),N=function(e){return t="/books/".concat(e),v(t,{method:"DELETE"});var t},g=function(e,t){return c="/books/".concat(e),s=t,v(c,{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(s)});var c,s},y=function(e){return t="/books",c=Object(f.a)({},e),v(t,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(c)});var t,c},k=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!1),i=Object(d.a)(n,2),l=i[0],o=i[1],O=Object(s.useState)(0),p=Object(d.a)(O,2),f=p[0],k=p[1];Object(s.useEffect)((function(){S()}),[l]);var S=function(){var e=Object(j.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("/books");case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=Object(s.useMemo)((function(){return c.find((function(e){return e.id===f}))}),[f]);return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(b.d,{children:[Object(h.jsx)(b.b,{path:"/",exact:!0,children:Object(h.jsx)(u,{books:c,onDelete:function(e){N(e),o(!l)},onEdit:function(e){k(e)}})}),Object(h.jsx)(b.b,{path:"/add",children:Object(h.jsx)(m,{onAdd:function(e){y(e),o(!l)}})}),Object(h.jsx)(b.b,{path:"/edit",children:Object(h.jsx)(x,{bookToEdit:w,getEditedBook:function(e){g(e.id,e),o(!l)}})}),Object(h.jsx)(b.a,{to:"/"})]})})};i.a.render(Object(h.jsx)(l.a,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.605d7abc.chunk.js.map